var componentTemplates={searchTemplate:{searchInputHTML:'\n        <div id="historySearch" class="zcl-search ml-search mR10 mL10" purpose="search" data-action="showSearchInputInExpandMode">\n            <div id="historySearchIcon" class="zcl-seach-icon zcf-search2 zcl-icon--default" data-action="showSearchInputInExpandMode"></div>\n            <div class="zcl-search-input flexC">\n                <input id="historySearchInput" type="text" type="text" placeholder="{{searchInputPlaceHolder}}" data-action="searchInput">\n                <span class="zcl-search-clear" data-action="clearSearch">{{clearPlaceHolder}}</span>\n            </div>\n            <div class="zcl-seach-close zcf-close clr-icon font10 zcl-dropdown-divider" data-action="showSearchInputInCollapseMode"></div>\n        </div>',searchInputInOpenModeHTML:'\n            <div id="{{id}}-search" class="mLR30 flexG">\n                <div class="fshrink">\n                    <div class="zcl-search2" style=";">\n                        <span class="zcf-search2 zcl-seach-icon"></span>\n                        <div class="zcl-search-input">\n                            <input type="text" id="{{id}}-input" placeholder="{{searchInputPlaceHolder}}">\n                            </div>\n                    </div>\n                </div>\n            </div>'},dropDownTemplate:{defaultDropDownHTML:'<div id="historyDropDown" class="fshrink posrel callhis-filter">\n                    <div class="flexIC cur font15  category-list-item-cont ellips" id="historyDropDownContainer" data-action="openDropDown">\n                        <em class="zcf-funnel clr-icon mR5"></em>\n                        {{defaultFilterHTML}}\n                        {{selectedFilterHTML}}\n                        <em class="zcf-downArrow mL6 mT4 font10 clr-icon"></em>\n                    </div>\n                    <div id="historyDropDownOptions" class="zcl-menu-wrap no-pointer convo-drop-down historyDropDownOptions hide" data-menu="zcl-menu">\n                        {{dropDownOptionsHTML}}    \n                    </div>\n                </div>',dropDownOptions:'<div id="{{id}}" class="zcl-menu-item justifySB" data-action="{{action}}" data-type="{{type}}" data-menu="zcl-menu">\n                <span>{{displayName}}</span>\n                <em class="{{icon}} mL20"></em>\n            </div>',defaultedSelectedDropDown:'<span class="flexG font15 clr-H fontB {{hideClass}}" id="filtertxt">{{displayName}}</span>'},dateFilterTemplate:{dateFilterUI:'<div id="historyDateFilter" class="flex posrel mR10 mL10" data-action="showDateFilterOptions">{{selectedDateHTML}}{{calendarIconHTML}}{{dateFilterOptionsHTML}}{{calendarHTML}}</div>',calendarIcon:'<div class="drpdwn-wrp zcl-icon zcl-icon--default posrel ml-date {{borderClass}}" data-action="showDateFilterOptions" data-icon="calendaricon">\n                            <em class="zcf-calendar p10" data-action="showDateFilterOptions"></em>\n                        </div>',selectedDateHTML:'<div id="historyDateDisplayContainer" class="flexC {{borderClass}}">\n                                <div id="dateFilterDisplay" class="date-filter-display flexC justifySB zcl-icon {{activeDateClass}}">\n                                    <span id="dateFilterName" class="sentdatefiltername mR5 text-transC">{{filterName}}</span>\n                                    <div  id="dateFilterTxt" class="datefil_txt">{{date}}</div>\n                                    <div data-action="removeDateFilter" class="zcf-close clr-icon font10  h100 flexC p5 mT2"></div>\n                                </div>\n                            </div>',calendarHTML:'<div id="historyCalendar" class="zcsenthistorycal zcl-popup daterange-popup mediarange-popup dN" data-action="calenderAreaClick">\n                            <div id="calender_container"></div>\n                            <div class="daterange-aside" data-action="showCalendar">\n                                {{dateFilterOptionsHTML}}\n                            </div>\n                        </div>',dateFilterParentOptionHTML:'<div id="historyDateFilterOptions" class="zcl-menu-wrap posa no-pointer zindex3 hide" data-action="showCalendar">{{dateFilterOptionsHTML}}</div>',dateFilterOptionsHTML:'<div id="{{id}}" class="zcl-menu-item justifySB {{class}}" data-menu="zcl-menu">\n                                    {{name}}\n                                    <em class="{{iconclass}} clrG msi-tick p5" data-icon="msi-tick"></em>\n                                </div>'}},TextInputComponent=function(e){this.params=e,this.searchText=""};TextInputComponent.prototype={bindEvents:function(){var e=$(this.params.$el),t=this;e.on("click","[data-action]",(function(e){var i=e.target.dataset.action;i in t&&t[i](e)})),e.find("#historySearchInput").on("keydown",this.onSearchKeyDown.bind(this)),e.find("#historySearchInput").on("keyup",$Util.debounce(this.onSearchKeyUp,this,300))},getHTML:function(){return this.params.isSearchInExpandedMode?this.getSearchHTMLInOpenMode():this.getSearchHTMLInCollapsedMode()},getSearchHTMLInCollapsedMode:function(){var e=this.params;return $WC.template.replace(this.templates.searchInputHTML,{id:e.id||"",searchInputPlaceHolder:e.searchInputPlaceHolder||"",clearPlaceHolder:e.clearPlaceHolder||"",customClass:""},"InSecureHTML")},getSearchHTMLInOpenMode:function(){var e=this.params;return $WC.template.replace(this.templates.searchInputInOpenModeHTML,{id:e.id||"",searchInputPlaceHolder:e.searchInputPlaceHolder||"",clearPlaceHolder:e.clearPlaceHolder||"",customClass:""},"InSecureHTML")},showSearchInputInExpandMode:function(){var e=this,t=this.getParentContainer(),i=this.CONSTANTS,a=this.domSelectors;Clickoutside.clear(i.SEARCH_BOX);var n={srcid:i.SEARCH_ICON,destid:i.SEARCH_BOX,doNotClose:function(t,i,a){return e.getSearchValue().length>0||"newsearch"==a.target.getAttribute("data-action")},customShow:function(){t.find(a.container).addClass("active zcl-search-focus"),e.setFocusToSearchInput()},customHide:function(e,i){t.find(a.container).removeClass("active zcl-search-focus")}};Clickoutside.bind(n)},setFocusToSearchInput:function(){this.getParentContainer().find(this.domSelectors.input).select()},showSearchInputInCollapseMode:function(){this.getParentContainer().find(this.domSelectors.container).removeClass("active zcl-search-focus"),this.clearSearchValue(),Clickoutside.clear(this.CONSTANTS.SEARCH_BOX),"function"==typeof this.params.searchCB&&this.params.searchCB("")},clearSearch:function(e){Clickoutside.handleClickOnChild(e),this.clearSearchValue(""),this.setFocusToSearchInput(),"function"==typeof this.params.searchCB&&this.params.searchCB(""),e.stopImmediatePropagation()},getSearchValue:function(){return this.getParentContainer().find(this.domSelectors.input).val().trim()},clearSearchValue:function(){this.getParentContainer().find(this.domSelectors.input).val("")},getParentContainer:function(){return this.parentElemet||(this.parentElemet=$(this.params.$el))},onSearchKeyUp:function(e){"function"==typeof this.params.searchCB&&this.params.searchCB(e.target.value)},onSearchKeyDown:function(e){var t=e.which;t===$zcg.TAB_KEYCODE&&e.preventDefault(),t==$zcg.ENTER_KEYCODE&&"function"==typeof this.params.searchCB&&this.params.searchCB(this.getSearchValue())},domSelectors:{container:"#historySearch",input:"#historySearchInput",icon:"#historySearchIcon"},CONSTANTS:{SEARCH_INPUT:"historySearchInput",SEARCH_ICON:"historySearchIcon",SEARCH_BOX:"historySearch"},templates:componentTemplates.searchTemplate};var DropDown=function(e){this.params=e};DropDown.prototype={bindEvents:function(){var e=$(this.params.$el),t=this;e.on("click","[data-action]",(function(e){var i=e.target.dataset.action;void 0===i&&(i=e.currentTarget.dataset.action),i in t&&t[i](e),e.stopPropagation()}))},getHTML:function(){return this.getContainerHTML()},getContainerHTML:function(){return $WC.template.replace(this.templates.defaultDropDownHTML,{defaultFilterHTML:this.getDefaultFilterHTML(),selectedFilterHTML:this.getSelectedFilterHTML()||"",dropDownOptionsHTML:this.getDropDownFilterOptionsHTML()},"InSecureHTML")},getDefaultFilterHTML:function(){var e=this.params.dropDownFilterOptions.find(e=>e.selected);return $WC.template.replace(this.templates.defaultedSelectedDropDown,{displayName:e.name,hideClass:this.hasDropDownFilterSelected()?"dN":""},"InSecureHTML")},hasDropDownFilterSelected:function(){return this.params.dropDownFilterOptions.some(e=>e.searchType==e.type)},getSelectedFilterHTML:function(){var e=this.getPrevSelectedDropDownValues();return e.length>0?this.getChatsAndUsersImagesHTML(e[0].type,e[0].value):""},getPrevSelectedDropDownValues:function(){return this.params.dropDownFilterOptions.filter(e=>e.searchType==e.type)},getDropDownFilterOptionsHTML:function(){var{dropDownFilterOptions:e}=this.params,t="";return e.forEach(e=>{t+=$WC.template.replace(this.templates.dropDownOptions,{displayName:e.name,action:e.action,icon:e.icon,id:e.id||"",type:e.type||""})}),t},openDropDown:function(e){var t=this.getParentContainer(),i=this.domSelectors;t.find(i.optionEle).hasClass("active")&&Clickoutside.clear(this.CONSTANTS.dropDownOptions),this.highlightSelectedDropDownOption();var a={srcid:this.CONSTANTS.dropDownParent,event:e,destid:this.CONSTANTS.dropDownOptions,customShow:function(){t.find(i.optionEle).removeClass("hide"),t.find(i.parentContainer).addClass("active")},customHide:function(){t.find(i.optionEle).addClass("hide"),t.find(i.parentContainer).removeClass("active")}};Clickoutside.bind(a)},highlightSelectedDropDownOption:function(){var e=this.getParentContainer(),t=HistoryViewUtils.getSelectedType();t?(e.find("[data-type="+t+"]").addClass("active"),e.find(this.domSelectors.all).removeClass("sel sel_status")):(e.find(this.domSelectors.optionEle).find(this.domSelectors.zclMenu).removeClass("active"),e.find(this.domSelectors.all).addClass("sel sel_status"))},openUserList:function(e){this.initiateSearchPopUp({event:e,currentSearch:e.currentTarget.id,type:e.currentTarget.dataset.type})},openChatsList:function(e){this.initiateSearchPopUp({event:e,currentSearch:e.currentTarget.id,type:e.currentTarget.dataset.type})},initiateSearchPopUp:function(e){var t=e.type,i=e.currentSearch,a=e.event;this.appendSearchAgentUI(t,i),this.bindSearchAgentParams({event:a,type:t,currentSearch:i})},appendSearchAgentUI:function(e,t){var i=this.getParentContainer();i.find("#"+MediaDomIDS.ADD_PARTICIPANT_SEARCH).remove(),i.find("#"+t).append(this.getSearchAgentHTML(e)),i.find("#"+MediaDomIDS.ADD_PARTICIPANT_LIST).addClass("srchresultbox"),this.updateActiveElementInUI(e,t),ZCScroll.customScroll($("#"+MediaDomIDS.ADD_PARTICIPANT_LIST),!0)},getSearchAgentHTML:function(e){return $WC.template.replace(MediaListingTemplates.getHtml("addParticipantsHTML"),{$searchpholder:e==this.CONSTANTS.CHATS?"history.searchin.usersandchats":"history.searchin.users",$add:"sticky.calender.apply",search_entity:MediaDomIDS.ADD_PARTICIPANT_SEARCH,purpose:"saveAddedParticipants",customClass:"flexC srchresultbox"})},updateActiveElementInUI:function(e,t){var i=this.getParentContainer(),a=this.domSelectors;i.find(this.domSelectors.optionEle).find(a.zclMenu).removeClass("active"),i.find(this.domSelectors.optionEle).find(a.all).removeClass("sel sel_status"),i.find("#"+t).addClass("ml-filter active")},closeDropDown:function(){var e=this.getParentContainer();e.find(this.domSelectors.optionEle).addClass("hide"),e.find(this.domSelectors.parentContainer).removeClass("active"),e.find("#"+MediaDomIDS.ADD_PARTICIPANT_SEARCH).hide(),Clickoutside.clear(this.CONSTANTS.dropDownOptions)},bindSearchAgentParams:function(e){var{event:t,type:i,currentSearch:a}=e,n=this,r=this.getParentContainer();Clickoutside.clear(MediaDomIDS.ADD_PARTICIPANT_SEARCH),SearchField.init(MediaDomIDS.ADD_PARTICIPANT_SEARCH);var s={srcid:t.currentTarget.id,destid:MediaDomIDS.ADD_PARTICIPANT_SEARCH,event:t,customShow:function(e){SearchField.clearSearchField(MediaDomIDS.ADD_PARTICIPANT_SEARCH);let t=r.find("#"+a).find("#"+MediaDomIDS.ADD_PARTICIPANT_SEARCH);var s=i==n.CONSTANTS.CHATS?SearchAgent.CHATS:SearchAgent.CONTACTS+SearchAgent.ORGCONTACTS,o=[].concat(HistoryViewUtils.getFilteredList(i));MediaListingEvents.addParticipants.getSelectedParticipantsAndInit(t,!0,!0,o,s,i),t.show(),t.find("#"+MediaDomIDS.ADD_PARTICIPANT_SRCHFLD).focus()},customHide:function(e){let t=r.find("#"+a).find("#"+MediaDomIDS.ADD_PARTICIPANT_SEARCH);r.find("#"+a).removeClass("active"),t.hide()}};Clickoutside.bind(s)},saveAddedParticipants:function(e){var t=e.target.dataset.type;HistoryViewUtils.setSelectedType(e),HistoryViewUtils.setFilteredList(t,HistoryViewUtils.getSelectedList()),this.onDropDownFilterChange(),e.stopImmediatePropagation()},resetToAll:function(){HistoryViewUtils.setSelectedType(""),HistoryViewUtils.clearFilterList(""),this.showSelectedUsersOrChatsInDropDownFilter(HistoryViewUtils.getSelectedType(),[]),this.onDropDownFilterChange()},removeSelectedUser:function(e){MediaListingEvents.handleClickEventDelegation.removeSelectedUser($(e.target),e)},removeUsers:function(e){var t=e.target.dataset.uid,i=HistoryViewUtils.getFilteredList(this.CONSTANTS.USERS).filter(e=>e!==t);HistoryViewUtils.setFilteredList(this.CONSTANTS.USERS,i),this.onDropDownFilterChange(),e.stopImmediatePropagation()},removeSelectedChatsInSearchAgentFooter:function(e){var t=e.target.dataset.chid,i=HistoryViewUtils.getSelectedList().filter(e=>e!==t);HistoryViewUtils.setSelectedList(this.CONSTANTS.CHATS,i),this.removeSelectedUser(e)},removeFilteredChats:function(e){var t=e.target.dataset.chid,i=HistoryViewUtils.getFilteredList(this.CONSTANTS.CHATS).filter(e=>e!==t);HistoryViewUtils.setFilteredList(this.CONSTANTS.CHATS,i),this.onDropDownFilterChange(),e.stopImmediatePropagation()},onDropDownFilterChange:function(){var e=HistoryViewUtils.getSelectedType(),t=HistoryViewUtils.getFilteredList(e);this.showSelectedUsersOrChatsInDropDownFilter(e,t),this.closeDropDown(),0==t.length&&HistoryViewUtils.setSelectedType(void 0,""),"function"==typeof this.params.dropDownCB&&this.params.dropDownCB(e,t)},showSelectedUsersOrChatsInDropDownFilter:function(e,t){var i=this.getParentContainer(),a=this.domSelectors;if(i.find(a.filterImg).remove(),0==t.length)return i.find(a.filterTxt).removeClass("dN"),i.find(a.dropDownOptions).removeClass("active"),void i.find(a.dropDownOptions).find(this.domSelectors.all).addClass("sel sel_status");i.find(a.filterTxt).addClass("dN").after(this.getChatsAndUsersImagesHTML(e,t))},getChatsAndUsersImagesHTML:function(e,t){var i=HistoryViewUtils.getImageOfSelectedFilters({type:e,selectedList:t});return`<div class="zcfilterimage__wrapper flexM" data-type="filterimg" ><span class="mL10 mR20 fontB">${I18N("common.filter")}</span>${i}</div>`},getParentContainer:function(){return this.parentContainer||(this.parentContainer=$(this.params.$el))},domSelectors:{container:"#historyDropDown",optionEle:"#historyDropDownOptions",parentContainer:"#historyDropDownContainer",filterImg:'[data-type="filterimg"]',filterTxt:"#filtertxt",all:"#alltypes",zclMenu:'[data-menu="zcl-menu"]'},CONSTANTS:{dropDown:"historyDropDown",dropDownOptions:"historyDropDownOptions",dropDownParent:"historyDropDownContainer",CHATS:"CHATS",USERS:"USERS"},templates:componentTemplates.dropDownTemplate};var DateFilterComponent=function(e){this.params=e,this.init()};DateFilterComponent.prototype={init:function(){this.setCurrentFilterId(this.getCurrentFilterId()),this.setFilterDate(this.getCurrentFilterDate())},bindEvents:function(){var e=$(this.params.$el),t=this;e.on("click","[data-action]",(function(e){var i=e.target.dataset.action;void 0===i&&(i=e.currentTarget.dataset.action),i in t&&t[i](e)}))},setCurrentFilterId:function(e){this.filterid=e},getCurrentFilterId:function(){var e=this.params.dateFilterOptions.filter(e=>e.selected);return e.length>0?e[0].id:""},setFilterDate:function(e){this.filterDate=e},getCurrentFilterDate:function(){var e=this.params.dateFilterOptions.filter(e=>e.selected);return e.length>0?e[0].value:""},getHTML:function(){return this.getDateFilterHTML()},getDateFilterHTML:function(){return $WC.template.replace(this.templates.dateFilterUI,{selectedDateHTML:this.getSelectedDateHTML(),calendarIconHTML:this.getCalendarIcon(),dateFilterOptionsHTML:this.getDateFilterOptions(),calendarHTML:this.getCalendarTemplateHTML()},"InSecureHTML")},getSelectedDateHTML:function(){return $WC.template.replace(this.templates.selectedDateHTML,{date:this.filterDate?this.getFormattedDate(this.filterDate):"",filterName:this.filterid?this.getAppliedDateFilterName(this.filterid):"",activeDateClass:this.filterDate?"ml-filterdate":"",borderClass:this.filterDate?"bdRBLR0 bdRTLR0":""})},getCalendarIcon:function(){return $WC.template.replace(this.templates.calendarIcon,{borderClass:this.filterDate?"bdRBLR0 bdRTLR0":""})},getCalendarTemplateHTML:function(){return $WC.template.replace(this.templates.calendarHTML,{dateFilterOptionsHTML:this.getDateFilterOptionsHTML()},"InSecureHTML")},getDateFilterOptions:function(){return $WC.template.replace(this.templates.dateFilterParentOptionHTML,{dateFilterOptionsHTML:this.getDateFilterOptionsHTML()},"InSecureHTML")},getDateFilterOptionsHTML:function(){var{dateFilterOptions:e}=this.params,t="";return e.forEach(e=>{t+=$WC.template.replace(this.templates.dateFilterOptionsHTML,{name:e.name,iconclass:e.id==this.filterid?"":"dN",class:e.id==this.filterid?"active":"",id:e.id})}),t},showDateFilterOptions:function(e){var t=this,i=this.getParentContainer(),a=this.domSelectors;Clickoutside.handleClickOnChild(e);var n={srcid:this.CONSTANTS.dateConatiner,destid:this.CONSTANTS.dateOptions,event:e,customShow:function(){i.find(a.dateContainer).addClass("active"),i.find(a.dateDropDownOptionsElement).find(a.msiTick).addClass("dN"),t.filterid&&i.find("#"+t.filterid).find(a.msiTick).removeClass("dN"),i.find(a.dateDropDownOptionsElement).removeClass("hide")},customHide:function(){i.find(a.dateContainer).removeClass("active"),i.find(a.dateDropDownOptionsElement).addClass("hide")}};Clickoutside.bind(n)},showCalendar:function(e){var t=this,i=e.target.id,a=this.domSelectors;Clickoutside.handleClickOnChild(e);var n=this.getParentContainer(),r=n.find(a.calendarParentContainer);n.find(a.dateDropDownOptionsElement).addClass("hide"),n.find(a.calendarContainer).html(this.getCalendarHTML()),r.find(a.zclMenu).removeClass("active"),r.find(a.msiTick).addClass("dN"),r.find("#"+i).addClass("active"),Clickoutside.bind({srcid:e.target.id,destid:"calender2",event:e,customShow:function(){n.find(a.calendarParentContainer).removeClass("dN").attr("showcalendar",""),n.find(a.specificDateEle).addClass("active"),n.find(a.calendar).addClass("zcl-calendar"),t.initDateWidget("elemCalender3")},customHide:function(e,t){"applyCustomDateFilter"!==t.target.getAttribute("data-action")&&r.find("#"+i).removeClass("active"),n.find(a.calendarParentContainer).addClass("dN")}})},getCalendarFilterName:function(){return this.getParentContainer().find("#historyCalendar").find(".active").attr("id")},getCalendarHTML:function(){return $WC.template.replace(MediaListingTemplates.getHtml(MediaListConstants.CALENDER_SPECIFIC),{$date_txt:"common.date",$apply_txt:"sticky.calender.apply"})},initDateWidget:function(e){var t=this,i=this.filterDate||Date.now(),a={setButtonNeeded:!1,time:!1,range:{to:Date.now()},preview:!1},n=new DateTimeWidget(e,a),r=new Date(parseInt(i));r.setHours(0,0,0,0),this.updateDateInCalendarFooter(r),n.initialize(r),n.handleModify=function(e){var i=this.getSelection();t.updateDateInCalendarFooter(i)}},updateDateInCalendarFooter:function(e){var t=e.getDate()+" "+$Date.getMonthString(e.getTime(),!0)+" "+e.getFullYear()%100,i=this.getParentContainer();i.find(this.domSelectors.toDate).text(t),i.find(this.domSelectors.customApplyBtn).attr("date",e.getTime()),i.find(this.domSelectors.customApplyBtn).attr("criteria",this.getCalendarFilterName())},applyCustomDateFilter:function(e){this.filterid=this.getCalendarFilterName(),this.filterDate=this.getFilterDate(),this.showSelectedDateInUI(e),"function"==typeof this.params.dateCB&&this.params.dateCB(this.filterid,this.filterDate),e.stopImmediatePropagation()},removeDateFilter:function(e){var t=this.getParentContainer(),i=this.domSelectors;this.removeBorderFromDateUI(),t.find(i.dateFilterTextEle).text(""),t.find(i.dateFilterName).text(""),t.find(i.calendarParentContainer).find("#"+this.filterid).removeClass("active"),t.find(i.dateDropDownOptionsElement).find("#"+this.filterid).removeClass("active"),t.find(i.dateFilterOptionEle).find("."+this.filterid).addClass("dN"),this.filterid=null,"function"==typeof this.params.dateCB&&this.params.dateCB(),e.stopImmediatePropagation()},removeBorderFromDateUI:function(){var e=this.getParentContainer();e.find(this.domSelectors.dateFilterDisplayEle).removeClass("ml-filterdate"),e.find(this.domSelectors.calendarIcon).removeClass("bdRBLR0 bdRTLR0")},showSelectedDateInUI:function(e){var t=new Date(parseInt(this.getFilterDate()));t&&(Clickoutside.handleClickOnChild(e),this.addBorderStyleToDateContainer(),this.updateDateInUI(t))},addBorderStyleToDateContainer:function(){var e=this.getParentContainer();e.find(this.domSelectors.dateParentContainer).addClass("date_display datefil-bdr"),e.find(this.domSelectors.calendarIcon).addClass("bdRBLR0 bdRTLR0")},updateDateInUI:function(e){var t=this.getParentContainer(),i=this.domSelectors,a=this.getFormattedDate(e);t.find(i.dateFilterNameEle).text(this.getAppliedDateFilterName()),t.find(i.dateFilterTextEle).text(a),t.find(i.dateFilterDisplayEle).addClass("ml-filterdate"),t.find(i.customApplyBtn).attr("date",""),t.find(i.customApplyBtn).attr("criteria","")},getFormattedDate:function(e){return e="string"==typeof e?new Date(parseInt(e)):e,$Date.getMonthString(e.getTime()).slice(0,3)+" "+e.getDate()+", "+e.getFullYear()},getFilterDate:function(){return this.getParentContainer().find(this.domSelectors.customApplyBtn).attr("date")||Date.now()},getAppliedDateFilterName:function(e){var t=e||this.getCalendarFilterName();if(!t)return"";var i=I18N("common.on");return t.includes("after")?i=I18N("common.after"):t.includes("before")&&(i=I18N("common.before")),i+":"},getParentContainer:function(){return this.parentElement||(this.parentElement=$(this.params.$el))},domSelectors:{dateParentContainer:"#historyDateFilter",dateIconElement:"#historyDate",dateClearElement:"",dateDropDownOptionsElement:"#historyDateFilterOptions",dateContainer:"#historyDateDisplayContainer",calendarParentContainer:"#historyCalendar",calendarContainer:"#calender_container",specificDateEle:'[data-name="specific_fil_cal"]',calendar:"#calendar",toDate:"#todate",dateFilterNameEle:"#dateFilterName",dateFilterDisplayEle:"#dateFilterDisplay",dateFilterTextEle:"#dateFilterTxt",customApplyBtn:"#customapplybtn",msiTick:'[data-icon="msi-tick"]',calendarIcon:'[data-icon="calendaricon"]',zclMenu:'[data-menu="zcl-menu"]'},CONSTANTS:{dateConatiner:"historyDateDisplayContainer",dateOptions:"historyCalendar"},templates:componentTemplates.dateFilterTemplate};